<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event Details</title>
<script defer src="https://umami.leanderziehm.com/script.js" data-website-id="9ea77169-a7cf-4dd2-b129-ddef65afa54b"></script>
<meta property="og:title" content="Events Deggendorf" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https:
<meta property="og:description" content="Events for Students at the THD. Sports, cinema and more.">
<meta property="og:image" content="https:
<script src="https:
<script src="eventsJson.js"></script>
<script src="main.js" type="text/javascript" charset="utf-8"></script>
    <script src="based/app.js"></script>
    <script src="based/base.js"></script>
    <script src="based/track.js"></script>
<style>
 :root{
    --orange: orange;
 }    
    body {
            font-family: Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            font-size: 20px;
        }
    h1{
        font-size: 30px !important;
        font-weight: bold;
    }
    h2{
        font-size: 25px;
        font-weight: bold;
        padding: 0px;
        margin: 0px;
    }
        button {
            border: none;
            border-radius: 50px;
            background-color: #007bff;
            color: #fff;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
           filter: brightness(96%); 
        }
        a{
            color: #007bff;
            text-decoration: none;
            padding: 0px;
            margin: 0px;    
        }
    #container {
        background-color: white;
        width:70vw;
        min-width: 500px;
        margin: 20px auto;
        padding: 20px;
    }
    #container *{
        padding: 8px;
    }
        #backBtn {
            position: absolute;
            top: 30px;
            left: 30px;
            background-color: var(--orange);
            border-radius: 40px;
            padding: 20px 30px;
            font-weight: bold;
            font-size: larger;
        }
    #follow-button{
        display: none;
    }
    #share-button {
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 20px;
        cursor: pointer;
    }
    #event-header {
        margin-top: 80px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        text-align: center  ;
    }
    #descriptionLong {
        color: rgba(0, 0, 0, 1);
    }
    #duration{
        display: none;
    }
     #organizer-container {
        border-radius: 20px;
        background-color: rgba(0, 0, 0, 0.05);
        padding: 20px;
        display: flex;
        width: fit-content;
        min-width: 100%;
    }
    #organizer-profile {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }
    #organizer-image {
        max-width: 20vw;
        max-height: 20vw;
        aspect-ratio: 1;
        border-radius: 50%;
        object-fit: cover;
        padding: 0;
        margin: auto 0px !important;
    }
    #organizer-website{
        margin-top: 10px;
    }
    #organizer-website *{
        margin-top : 10px;
    }
    #images {
        margin: 0px;
        padding: 0px;
        display: flex;
        justify-content: center;
    }
    #images * {
        max-height: 200px;
        max-width: 50vw;
        border-radius: 20px;
        user-select: none;
        pointer-events: none;
        object-fit: cover;
    }
    #addToCalendar{
        display: none;
    }
    #organizer-ratings{
        display: none;
    }
    i {
    }
    #downloadEventCalender{
        display: none;
    }
    #shareContainer {
        display: none;
    }
    #shareBtn {
        background-color: rgb(37, 211, 102);
    }
    #shareBtn img{
        width: 40px;
        height: 40px;
        margin: 0px;
        padding: 10px;
        transform: translateY(2px);
        filter: invert(1);
    }
    #eventbuttons{
        position: absolute;
        top: 30px;
        right: 30px;
    }
</style>
</head>
<body>
    <button id="backBtn"><i class="fas fa-arrow-left"></i>Back</button>
    <div id="container">
        <div id="event-header">
            <h1 id="event-name">Event Name</h1>
        </div>
        <div id="images">
                <img src="images/icons/upload.png" alt="img">
        </div>
        <button id="downloadEventCalender">üìÜDownload event for calender</button>
        <div id="date">Date: <input type="date" id="date-input" ></div>
        <div id="timeStart">Start Time: <input type="time" id="timeStart-input" ></div>
        <div id="timeEnd">End Time: <input type="time" id="timeEnd-input" ></div>
        <div id="duration">Duration: <input type="number" id="duration-input" min="1" max="48" /></div>
        <div id="location">Location: <input type="text" id="location-input" s></div>
        <div id="location-maps">Location Google Maps Link: <input type="text" id="location-maps-input" s></div>
        <div id="online-link">Online Link To Event: <input type="text" id="online-link-input" s></div>
    <div id="descriptionLong">Description:<textarea id="descriptionLong-input"></textarea></div>
        <div id="type">Type:
        <select id="type-input">
            <option value="in-person">In-person</option>
            <option value="virtual">Virtual</option>
            <option value="hybrid" selected>Hybrid</option>
        </select>
    </div>
        <div id="language">Languages: <select id="language-input" >
                <option value="en">English</option>
                <option value="de">Deutsch</option>
                <option value="both">both</option>
            </select>
        </div>
        <!-- <div id="registration">Registration required:TODO: input true or false </div> -->
        <div id="registration">Registration required: <select id="registration"><option value="no">no</option>
        <option value="yes">yes</option></select> </div>
        <div id="organizer-container">
            <img id="organizer-image" alt="img">
                <div id="organizer-details">
                    <h2 id="organizer-name">Von: Sign In</h2>
                    <div id="organizer-website">Website: Sign In</div>
                    <div id="organizer-email">‚úâÔ∏è: Sign In</div>
                    <div id="organizer-whatsapp">üí¨: Sign In</div>
                    <div id="organizer-ratings" >Ratings: Sign In</div>
                </div>
        </div>
    <script>
            const queryParams = new URLSearchParams(window.location.search);
            const eventParameter = queryParams.get('event');

            document.getElementById('event-name').innerHTML = "New Event";

            if(eventParameter == 'new') {
               






            }
            // else{
            //     const eventIdParameter = eventParameter;
            //     console.log(eventIdParameter);
            //     const eventID = eventIdParameter ? parseInt(eventIdParameter) : 0;
            //     var event = eventsJson[eventID];
            //      console.log(eventID);
            //     const images = getImages(eventID);
            //     const imagesHtml = images.map(imagePath => "<img src='" +imagePath+ "'>").join('');
            //     const imagesElement = document.getElementById('images');
            //     imagesElement.innerHTML = imagesHtml;
            //     if(images.length == 1){
            //         const size = "80%";
            //         imagesElement.children[0].style.width = size;
            //         imagesElement.children[0].style.height = size;
            //         imagesElement.children[0].style.maxWidth = "none";
            //         imagesElement.children[0].style.maxHeight = "none";
            //         imagesElement.children[0].style.borderRadius = "40px";
            //     }
            //     const eventLanguage = event.language;
            //     let languageEmoji = "";
            //     if (eventLanguage === "de") {
            //         languageEmoji = "üá©üá™";
            //     } else if (eventLanguage === "en") {
            //         languageEmoji = "üá∫üá∏";
            //     } else if (eventLanguage === "de+en") {
            //         languageEmoji =  "üá©üá™ üá∫üá∏";
            //     }
            //     document.getElementById('event-name').innerHTML = event.name;
            //     const userLanguage = getLanguage();
            //     console.log(userLanguage);
            //     let descriptionLong = event.descriptionLong[userLanguage];
            //     if(descriptionLong === undefined){
            //         const firstDescriptionLong = Object.values(event.descriptionLong)[0];
            //         descriptionLong = firstDescriptionLong;
            //     }
            //     const RENDER_NEW_LINE = true;
            //     if(RENDER_NEW_LINE){
            //         descriptionLong = descriptionLong.replace(/^\n*/, "");
            //         descriptionLong = descriptionLong.replace(/\n/g, "<br>");
            //     }
            //     document.getElementById('descriptionLong').innerHTML = descriptionLong;
            //     const registration = event.registration;
            //     if(registration == "required" || registration == "yes"){
            //         document.getElementById('registration').innerHTML = "[üîíüîëüìùRegistration: required] " + getLinkElement(event.organizer.website);
            //     }else{
            //          document.getElementById('registration').style.display = 'none';
            //     }
            //     const dateInfo = calculateDateInfo(event.date);
            //     document.getElementById('date').innerHTML = "üìÖ " + dateInfo["dateText"];
            //     if(event.timeEntry){
            //         document.getElementById('timeEntry').innerHTML = "üö™ " + event.timeEntry;
            //     }else{
            //         document.getElementById('timeEntry').style.display = 'none';
            //     }
            //     document.getElementById('timeStart').innerHTML =  getMyTimeString(eventID);
            //     document.getElementById('duration').innerHTML = "‚è≥ " + event.duration;
            //     document.getElementById('language').innerHTML = "" + languageEmoji;
            //     const eventType = event.type;
            //     let hasLocation = false;
            //     let hasOnlineLink = false;
            //      let typeString = "";
            //     if (eventType == 'inPerson') {
            //         hasLocation = true;
            //         typeString = "üë•"
            //     }else if (eventType == 'online') {
            //         hasOnlineLink = true;
            //         typeString = "üåê"
            //     } else if(eventType == 'hybrid') {
            //         hasLocation = true;
            //         hasOnlineLink = true;
            //         typeString = "üë•‚ûïüåê"
            //     }
            //     document.getElementById('type').innerHTML = typeString;
            //     if(hasLocation){
            //         document.getElementById('location').innerHTML = "üìç " + event.location.name +" "+ event.location.description+"";
            //         document.getElementById('location-maps').innerHTML = "üó∫Ô∏è " + getLinkElement(event.location.maps);
            //     }else{
            //         document.getElementById('location').style.display = 'none';
            //         document.getElementById('location-maps').style.display = 'none';
            //     }
            //     if(hasOnlineLink){
            //         document.getElementById('online-link').innerHTML = "üåê " + getLinkElement(event.onlineLink);
            //     }else{
            //         document.getElementById('online-link').style.display = 'none';
            //     }
            // document.getElementById('organizer-image').src = getOrganizerProfileImagePath(eventID);
            //     document.getElementById('organizer-name').innerHTML = event.organizer.name;
            //     if(event.organizer.website){
            //         document.getElementById('organizer-website').innerHTML = "üîó" + getLinkElement(event.organizer.website);
            //     }else{
            //         document.getElementById('organizer-website').style.display = 'none';
            //     }
            //     if (event.organizer.email) {
            //         document.getElementById('organizer-email').innerHTML = "‚úâÔ∏è " + event.organizer.email;
            //     } else {
            //         document.getElementById('organizer-email').style.display = 'none';
            //     }
            //     if (event.organizer.whatsapp) {
            //         document.getElementById('organizer-whatsapp').innerHTML = "üí¨" + getLinkElement(event.organizer.whatsapp);
            //     } else {
            //         document.getElementById('organizer-whatsapp').style.display = 'none';
            //     }
            //     if (event.organizer.website2){
            //         document.getElementById('organizer-website').innerHTML += "<div>" + "üîó" +  getLinkElement(event.organizer.website2)+ "</div>";
            //     }
            //     document.getElementById('organizer-ratings').innerHTML = "Ratings: " + event.organizer.ratings;
            // }
//             document.getElementById('shareBtn').onclick = function() {
//                 const currentUrl = window.location.href;
//                 const whatsappShareUrl = 'https:
//              window.open(whatsappShareUrl);
//             };
//             document.getElementById("backBtn").onclick = function () {
//                 if(eventParameter == 'new'|| eventParameter == '' || eventParameter == null){
//                     window.location.href = "Events.html"
//                 }else{
//                     window.location.href = "Events.html?event=" + eventParameter;
//                 }  
//             };
//             document.getElementById("downloadEventCalender").onclick = function () {
//                 const title = document.getElementById('event-name').innerHTML;
//                 const description = document.getElementById('descriptionLong').innerHTML;
//                 const location = document.getElementById('location').innerHTML;
//                 const date = document.getElementById('date').innerHTML;
//                 const timeStart = document.getElementById('timeStart').innerHTML;
//                 const duration = document.getElementById('duration').innerHTML;
//         const startText = date + " " + timeStart;
//                 downloadEventCalender(title, description, location, startText   , null);
//             };
//             function downloadEventCalender(title, description, location, start, end=null) {
//                   if (end == null) {
//                     const oneHour = 3600000;
//                     end = "usually 2 hours later";
//                 }
//                     const event = {
//                         title: title,
//                         description: description,
//                         location: location,
//                         start: start, 
//                         end: end 
//                     };
//                     function formatDate(date) {
//                         return date;
//                     }
//                     const icsContent = `BEGIN:VCALENDAR
// VERSION:2.0
// BEGIN:VEVENT
// SUMMARY:${event.title}
// DESCRIPTION:${event.description}
// LOCATION:${event.location}
// DTSTART:${formatDate(event.start)}
// DTEND:${formatDate(event.end)}
// END:VEVENT
// END:VCALENDAR`;
//                 function sanitizeFilename(input) {
//                     const invalidChars = /[<>:"/\\|?*\x00-\x1F]/g;
//                     let sanitized = input.replace(invalidChars, '_');
//                     sanitized = sanitized.trim();
//                     const reservedNames = /^(CON|PRN|AUX|NUL|COM[1-9]|LPT[1-9])(\.|$)/i;
//                     if (reservedNames.test(sanitized)) {
//                         sanitized = '_' + sanitized;
//                     }
//                     return sanitized;
//                 }
//                     const blob = new Blob([icsContent], { type: 'text/calendar' });
//                     const link = document.createElement('a');
//                     link.href = URL.createObjectURL(blob);
//                     const fileName = sanitizeFilename(event.title   ) + '.ics';
//                     link.download = fileName;
//                     document.body.appendChild(link);
//                     link.click();
//                     document.body.removeChild(link);
//                 }

    document.getElementById("backBtn").onclick = function () {
                     window.location.href = "Events.html"
                };
            document.body.style.zoom = 0.6; this.blur();
    </script>
</body>
</html>